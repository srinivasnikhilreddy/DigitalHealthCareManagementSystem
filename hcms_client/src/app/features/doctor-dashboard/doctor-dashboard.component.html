
<!-- Header -->
<div class="header flex justify-between items-center px-4 py-2 bg-white shadow-md">
  <div class="header-left">
    <input type="text" placeholder="Search..." class="header-search border rounded px-2 py-1">
  </div>

  <div class="header-right flex items-center gap-4">
    <a routerLink="notification/notification-list" routerLinkActive="active" class="header-icon text-xl">ðŸ””</a>
    <div class="header-user flex items-center gap-2" style="margin-right: 50px">
      <a routerLink="/profile" routerLinkActive="active">
        <img *ngIf="profilePictureUrl" [src]="'http://localhost:9087' + profilePictureUrl" alt="User Avatar" class="avatar rounded-full">
      </a>
      <span class="username font-medium">{{ username }}</span>
    </div>
  </div>
</div>

<div class="dashboard-container flex">

  <!--Sidebar-->
  <nav class="sidebar w-64 bg-gray-50 h-screen shadow-md p-4">
    <h2 class="text-blue-600 text-lg font-bold mb-4">Menu</h2>
    <ul class="space-y-2">
      <li>
        <a routerLink="/doctor-dashboard" routerLinkActive="active"
           [routerLinkActiveOptions]="{ exact: true }"
           class="sidebar-link block px-2 py-1 rounded hover:bg-blue-100">Dashboard</a>
      </li>
      <li>
        <a routerLink="appointment/appointment-list" routerLinkActive="active"
           class="sidebar-link block px-2 py-1 rounded hover:bg-blue-100">Appointments</a>
      </li>
      <li>
        <a routerLink="patient-list" routerLinkActive="active"
           class="sidebar-link block px-2 py-1 rounded hover:bg-blue-100">Patients</a>
      </li>
      <li>
        <a routerLink="report/report-list" routerLinkActive="active"
           class="sidebar-link block px-2 py-1 rounded hover:bg-blue-100">Reports</a>
      </li>
    </ul>
  </nav>

  <!-- Main content -->
  <div class="content flex-1 p-6">

    <!-- Title block (only on dashboard) -->
    <div *ngIf="showTitle" class="title-block mb-6 text-center">
      <div class="title-main text-3xl font-bold text-green-600">Digital Health Care</div>
      <div class="title-sub text-xl text-gray-800">Management System</div>
    </div>

    <!-- 4 Boxes (only visible on dashboard) -->
    <div *ngIf="showTitle" style="display: flex; flex-direction: column; gap: 40px; margin-bottom: 24px; margin-top: -20px; margin-right: 600px;">

      <!-- Top Row -->
      <div style="display: flex; justify-content: center; gap: 40px;">
        <div style="width: 180px; height: 180px; background-color: #22c55e; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
          <span style="font-size: 0.9rem; font-weight: bold;">Total Patients</span>
          <span style="font-size: 1.5rem; font-weight: bold;">{{ totalPatients }}</span>
        </div>

        <div style="width: 180px; height: 180px; background-color: #3b82f6; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
          <span style="font-size: 0.9rem; font-weight: bold;">Today's Appointments</span>
          <span style="font-size: 1.5rem; font-weight: bold;">{{ todaysAppointments }}</span>
        </div>
      </div>

      <!-- Bottom Row -->
      <div style="display: flex; justify-content: center; gap: 40px;">
        <div style="width: 180px; height: 180px; background-color: #ef4444; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
          <span style="font-size: 0.9rem; font-weight: bold;">Reports Pending</span>
          <span style="font-size: 1.5rem; font-weight: bold;">{{ reportsPending }}</span>
        </div>

        <div style="width: 180px; height: 180px; background-color: #6b7280; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
          <span style="font-size: 0.9rem; font-weight: bold;">Notifications</span>
          <span style="font-size: 1.5rem; font-weight: bold;">{{ notifications }}</span>
        </div>
      </div>
    </div>


    <!-- Router outlet for child components -->
    <router-outlet></router-outlet>
  </div>
</div>
